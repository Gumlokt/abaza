<!doctype html>
<html lang="{{ app()->getLocale() }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../../../favicon.ico">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>Sticky Footer Navbar Template for Bootstrap</title>

        <link href="{{ url('css/app.css') }}" rel="stylesheet" type="text/css">
        <link href="{{ url('assets/jquery-ui-1.12.1.custom/jquery-ui.min.css') }}" rel="stylesheet" type="text/css">
    </head>

    <body>
        <!-- Fixed navbar -->
        <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-dark" id="navbar">
            <div class="container">
                <a class="navbar-brand" href="{{ url('') }}"><i class="fas fa-home"></i> Home</a>

                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-sm btn-outline-success" data-toggle="modal" data-target="#storeModal" title="Parse & Store to database">
                        <svg
                            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            xmlns:ns1="http://sozi.baierouge.fr"
                            xmlns:cc="http://web.resource.org/cc/"
                            xmlns:dc="http://purl.org/dc/elements/1.1/"
                            xmlns:sodipodi="http://inkscape.sourceforge.net/DTD/sodipodi-0.dtd"
                            id="svg1"
                            sodipodi:docname="save.svg"
                            viewBox="0 0 60 60"
                            sodipodi:version="0.32"
                            _SVGFile__filename="oldscale/devices/3floppy_mount.svg"
                            version="1.0"
                            y="0"
                            x="0"
                            inkscape:version="0.41"
                            sodipodi:docbase="/home/danny/work/icons/primary/scalable/actions"
                            width="16" height="16" fill="red" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                        >
                            <sodipodi:namedview
                                id="base"
                                bordercolor="#666666"
                                inkscape:pageshadow="2"
                                inkscape:window-y="0"
                                pagecolor="#ffffff"
                                inkscape:window-height="691"
                                inkscape:zoom="7.8862221"
                                inkscape:window-x="0"
                                borderopacity="1.0"
                                inkscape:current-layer="svg1"
                                inkscape:cx="28.181381"
                                inkscape:cy="31.034125"
                                inkscape:window-width="1020"
                                inkscape:pageopacity="0.0000000"
                            />
                            <path
                                id="path2341"
                                style="stroke-linejoin:round;stroke:#ffffff;stroke-linecap:round;stroke-width:8.125;fill:none"
                                d="m7.6819 4.6857c-1.1485 0-2.0731 0.9245-2.0731 2.073v46.482c0 1.149 0.9246 2.073 2.0731 2.073h44.636c1.149 0 2.073-0.924 2.073-2.073v-41.721l-6.867-6.8343h-39.842z"
                            />
                            <path
                                id="path646"
                                style="stroke-linejoin:round;fill-rule:evenodd;stroke-linecap:round;fill:#0be000"
                                transform="matrix(1.0365 0 0 1.0365 -.99914 -1.5984)"
                                d="m8.375 6.0625c-1.108 0-2 0.892-2 2v44.844c0 1.108 0.892 2 2 2h43.063c1.108 0 2-0.892 2-2v-40.25l-6.626-6.5935h-38.437z"
                            />
                            <g
                                id="g1077"
                                transform="matrix(-1 0 0 1 57.371 0)"
                                >
                                <path
                                    id="path655"
                                    style="stroke-linejoin:round;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-width:2.5551;fill:#babec3"
                                    transform="matrix(.97845 0 0 .97845 .43127 .25189)"
                                    d="m15.914 4.6592v13.242c0 1.353 1.188 2.442 2.665 2.442h17.908c1.477 0 2.666-1.089 2.666-2.442v-13.242"
                                />
                                <path
                                    id="rect656"
                                    style="stroke-linejoin:round;fill-rule:evenodd;stroke-linecap:round;stroke-width:1.25;fill:#000000"
                                    transform="matrix(.97845 0 0 .97845 .43127 .25189)"
                                    d="m20.916 7.9808c-0.775 0-1.4 0.624-1.4 1.3991v6.2431c0 0.775 0.625 1.399 1.4 1.399h3.788c0.776 0 1.4-0.624 1.4-1.399v-6.2431c0-0.7751-0.624-1.3991-1.4-1.3991h-3.788z"
                                />
                            </g>
                            <path
                                id="path659"
                                style="stroke-linejoin:round;stroke:#000000;stroke-linecap:round;stroke-width:3.0148;fill:none"
                                transform="matrix(1.0365 0 0 1.0365 -.99914 -1.5984)"
                                d="m8.375 6.0625c-1.108 0-2 0.892-2 2v44.844c0 1.108 0.892 2 2 2h43.063c1.108 0 2-0.892 2-2v-40.25l-6.626-6.5935h-38.437z"
                            />
                            <path
                                id="rect731"
                                sodipodi:nodetypes="ccccccccc"
                                style="stroke-linejoin:round;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-width:2.5;fill:#d9dddf"
                                d="m13.994 25.824c-1.028 0-1.855 0.827-1.855 1.855v20.039c0 1.028 0.827 1.855 1.855 1.855h32.012c1.028 0 1.855-0.827 1.855-1.855v-20.039c0-1.028-0.827-1.855-1.855-1.855h-32.012z"
                            />
                            <metadata>
                                <rdf:RDF>
                                <cc:Work>
                                    <dc:format>image/svg+xml</dc:format>
                                    <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                                    <cc:license rdf:resource="http://creativecommons.org/licenses/publicdomain/" />
                                    <dc:publisher>
                                    <cc:Agent rdf:about="http://openclipart.org/" >
                                        <dc:title>Openclipart</dc:title>
                                    </cc:Agent>
                                    </dc:publisher>
                                </cc:Work>
                                <cc:License rdf:about="http://creativecommons.org/licenses/publicdomain/" >
                                    <cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction" />
                                    <cc:permits rdf:resource="http://creativecommons.org/ns#Distribution" />
                                    <cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks" />
                                </cc:License>
                                </rdf:RDF>
                            </metadata>
                        </svg> Store
                    </button>
                    &nbsp;&nbsp;
                    <form class="form-inline my-2 my-lg-0" method="POST" action="{{ url('simulate') }}" enctype="multipart/form-data">
                        @csrf
                        <button class="btn btn-sm btn-outline-primary" type="submit" title="Only parse (simulate storing)" id="simulateButton">
                            <svg id="i-play" viewBox="0 0 32 32" width="16" height="16" fill="red" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
                                <path d="M10 2 L10 30 24 16 Z" />
                            </svg> Parse
                        </button>
                    </form>
                </div>

                @if (isset($meta))
                    <div class="collapse navbar-collapse justify-content-center">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <strong class="text-light lead nav-link">
                                    File: <span class="text-warning">{{ $meta['file'] }}</span>
                                </strong>
                            </li>
                            <li class="nav-item">
                                <strong class="text-light lead nav-link">
                                    Size: <span class="text-info">{{ number_format($meta['size'], 0, ',', ' ') }}</span> bytes
                                </strong>
                            </li>
                        </ul>
                    </div>
                @endif

                <div class="collapse navbar-collapse justify-content-end">
                    <ul class="navbar-nav">
                        <li class="nav-item"><strong class="text-light lead nav-link">Time elapsed: <span class="text-info">{{ isset($time_elapsed) ? $time_elapsed . ' sec' : "---" }}</span></strong></li>
                        <li class="nav-item"><strong class="text-light lead nav-link">Entries: <span class="text-info">{{ isset($total) ? number_format($total, 0, ',', ' ') : "---" }}</span></strong></li>
                    </ul>
                </div>
            </div>
        </nav>



        <!-- Begin page content -->
        <main class="container" role="main" id="app">
            <!-- Modal -->
            <div class="modal fade" id="storeModal" tabindex="-1" role="dialog" aria-labelledby="storeModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="storeModalLabel">Parse & Store to database</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form class="form-inline my-2 my-lg-0" method="POST" action="{{ url('store') }}" enctype="multipart/form-data">
                                @csrf

                                <button class="btn btn-outline-success" type="submit" title="Parse & Store to database" v-on:click="startStopwatch()" id="storeButton">
                                    <svg
                                        xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                                        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                                        xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink"
                                        xmlns:ns1="http://sozi.baierouge.fr"
                                        xmlns:cc="http://web.resource.org/cc/"
                                        xmlns:dc="http://purl.org/dc/elements/1.1/"
                                        xmlns:sodipodi="http://inkscape.sourceforge.net/DTD/sodipodi-0.dtd"
                                        id="svg1"
                                        sodipodi:docname="save.svg"
                                        viewBox="0 0 60 60"
                                        sodipodi:version="0.32"
                                        _SVGFile__filename="oldscale/devices/3floppy_mount.svg"
                                        version="1.0"
                                        y="0"
                                        x="0"
                                        inkscape:version="0.41"
                                        sodipodi:docbase="/home/danny/work/icons/primary/scalable/actions"
                                        width="16" height="16" fill="red" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                                    >
                                        <sodipodi:namedview
                                            id="base"
                                            bordercolor="#666666"
                                            inkscape:pageshadow="2"
                                            inkscape:window-y="0"
                                            pagecolor="#ffffff"
                                            inkscape:window-height="691"
                                            inkscape:zoom="7.8862221"
                                            inkscape:window-x="0"
                                            borderopacity="1.0"
                                            inkscape:current-layer="svg1"
                                            inkscape:cx="28.181381"
                                            inkscape:cy="31.034125"
                                            inkscape:window-width="1020"
                                            inkscape:pageopacity="0.0000000"
                                        />
                                        <path
                                            id="path2341"
                                            style="stroke-linejoin:round;stroke:#ffffff;stroke-linecap:round;stroke-width:8.125;fill:none"
                                            d="m7.6819 4.6857c-1.1485 0-2.0731 0.9245-2.0731 2.073v46.482c0 1.149 0.9246 2.073 2.0731 2.073h44.636c1.149 0 2.073-0.924 2.073-2.073v-41.721l-6.867-6.8343h-39.842z"
                                        />
                                        <path
                                            id="path646"
                                            style="stroke-linejoin:round;fill-rule:evenodd;stroke-linecap:round;fill:#0be000"
                                            transform="matrix(1.0365 0 0 1.0365 -.99914 -1.5984)"
                                            d="m8.375 6.0625c-1.108 0-2 0.892-2 2v44.844c0 1.108 0.892 2 2 2h43.063c1.108 0 2-0.892 2-2v-40.25l-6.626-6.5935h-38.437z"
                                        />
                                        <g
                                            id="g1077"
                                            transform="matrix(-1 0 0 1 57.371 0)"
                                            >
                                            <path
                                                id="path655"
                                                style="stroke-linejoin:round;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-width:2.5551;fill:#babec3"
                                                transform="matrix(.97845 0 0 .97845 .43127 .25189)"
                                                d="m15.914 4.6592v13.242c0 1.353 1.188 2.442 2.665 2.442h17.908c1.477 0 2.666-1.089 2.666-2.442v-13.242"
                                            />
                                            <path
                                                id="rect656"
                                                style="stroke-linejoin:round;fill-rule:evenodd;stroke-linecap:round;stroke-width:1.25;fill:#000000"
                                                transform="matrix(.97845 0 0 .97845 .43127 .25189)"
                                                d="m20.916 7.9808c-0.775 0-1.4 0.624-1.4 1.3991v6.2431c0 0.775 0.625 1.399 1.4 1.399h3.788c0.776 0 1.4-0.624 1.4-1.399v-6.2431c0-0.7751-0.624-1.3991-1.4-1.3991h-3.788z"
                                            />
                                        </g>
                                        <path
                                            id="path659"
                                            style="stroke-linejoin:round;stroke:#000000;stroke-linecap:round;stroke-width:3.0148;fill:none"
                                            transform="matrix(1.0365 0 0 1.0365 -.99914 -1.5984)"
                                            d="m8.375 6.0625c-1.108 0-2 0.892-2 2v44.844c0 1.108 0.892 2 2 2h43.063c1.108 0 2-0.892 2-2v-40.25l-6.626-6.5935h-38.437z"
                                        />
                                        <path
                                            id="rect731"
                                            sodipodi:nodetypes="ccccccccc"
                                            style="stroke-linejoin:round;fill-rule:evenodd;stroke:#000000;stroke-linecap:round;stroke-width:2.5;fill:#d9dddf"
                                            d="m13.994 25.824c-1.028 0-1.855 0.827-1.855 1.855v20.039c0 1.028 0.827 1.855 1.855 1.855h32.012c1.028 0 1.855-0.827 1.855-1.855v-20.039c0-1.028-0.827-1.855-1.855-1.855h-32.012z"
                                        />
                                        <metadata>
                                            <rdf:RDF>
                                            <cc:Work>
                                                <dc:format>image/svg+xml</dc:format>
                                                <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                                                <cc:license rdf:resource="http://creativecommons.org/licenses/publicdomain/" />
                                                <dc:publisher>
                                                <cc:Agent rdf:about="http://openclipart.org/" >
                                                    <dc:title>Openclipart</dc:title>
                                                </cc:Agent>
                                                </dc:publisher>
                                            </cc:Work>
                                            <cc:License rdf:about="http://creativecommons.org/licenses/publicdomain/" >
                                                <cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction" />
                                                <cc:permits rdf:resource="http://creativecommons.org/ns#Distribution" />
                                                <cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks" />
                                            </cc:License>
                                            </rdf:RDF>
                                        </metadata>
                                    </svg> Store
                                </button>

                                <button class="btn btn-outline-info ml-3" type="button" disabled>
                                Time elapsed: @{{ curTime }}
                                </button>
                            </form>
                            <br>
                            By clicking on the" Store " button above, you run a server-side script that analyzes the dictionary file, extracts words, samples, and other things from it, and than stores all the extracted data in a database
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row border-bottom border-secondary justify-content-center">
                <div class="col-sm-12 col-md-9 col-lg-7 col-xl-6">
                    <div class="input-group input-group-sm mt-3 mb-3">
                        <div class="input-group-prepend">
                            <button class="btn btn-outline-secondary" type="button" id="clearButton"><i class="fas fa-times"></i></button>
                        </div>

                        <input type="text" class="form-control" name="word" placeholder="Enter abaza word to search..." aria-label="word" aria-describedby="translation-direction" id="word">

                        <div class="input-group-append">
                            <button class="btn btn-outline-primary" type="button" id="translateButton"><i class="fas fa-search"></i> Search</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row pb-3">
                <div class="col" id="translations">
                    @if (isset($translations))
                        {{ $translations }}
                    @endif

                    @if (isset($content))
                        <table class="table table-hover table-sm table-responsive">
                            <tbody>
                                @foreach ($content as $key => $value)
                                    <tr>
                                        <td class="text-secondary">{{ $key + 1 }}</td>
                                        <td class="text-dark">{{ $value }}</td>
                                    </tr>
                                @endforeach
                            </tbody>
                        </table>
                    @endif
                </div>
            </div>
        </main>



        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <span class="text-danger">Parser</span> for Orthographic dictionary of abaza language
                    </div>
                    <div class="col text-right">
                        Powered by <a href="https://laravel.com" target="_blank">Laravel</a> <span class="text-danger">{{ App::version() }}</span>
                    </div>
                </div>
            </div>
        </footer>


        <script src="{{ url('js/app.js') }}"></script>
        <script src="{{ url('assets/jquery-ui-1.12.1.custom/jquery-ui.min.js') }}"></script>
        <script src="{{ url('js/autocomplete.js') }}"></script>
    </body>
</html>
